(this.webpackJsonpmortageapp=this.webpackJsonpmortageapp||[]).push([[0],{14:function(e,t,a){},15:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),r=a(8),o=a.n(r),i=(a(14),a(1)),l=a(2),c=a(6),m=a(4),u=a(3),p=a(5),d="https://mortgageappsk.herokuapp.com",g=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).state={firstName:"",lastName:"",username:"",password:"",baseURL:d},e.handleChange=function(t){e.setState(Object(p.a)({},t.currentTarget.id,t.currentTarget.value))},e.createUser=function(t){t.preventDefault(),fetch(e.state.baseURL+"/mortgage",{method:"POST",body:JSON.stringify({firstName:e.state.firstName,lastName:e.state.lastName,username:e.state.username,password:e.state.password,address:"",city:"",state:"",zip:"",description:"",yearBuilt:"",loanPurpose:"",ssn:""}),headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(t){e.setState({signUp:!1,firstName:"",lastName:"",username:"",password:""})})).catch((function(e){return console.error({Error:e})}))},e}return Object(l.a)(a,[{key:"render",value:function(){return s.a.createElement("div",null,s.a.createElement("form",{className:"form justify-content-center",onSubmit:this.createUser},s.a.createElement("div",{className:"form-group"},s.a.createElement("input",{className:"form-control",type:"text",onChange:this.handleChange,value:this.state.firstName,placeholder:"First name",id:"firstName",name:"firstName"})),s.a.createElement("div",{className:"form-group"},s.a.createElement("input",{className:"form-control",type:"text",onChange:this.handleChange,value:this.state.lastName,placeholder:"Last name",id:"lastName",name:"lastName"})),s.a.createElement("div",{className:"form-group"},s.a.createElement("input",{className:"form-control",type:"text",onChange:this.handleChange,value:this.state.username,id:"username",name:"username",placeholder:"email"})),s.a.createElement("div",{className:"form-group"},s.a.createElement("input",{className:"form-control",type:"password",onChange:this.handleChange,value:this.state.password,id:"password",name:"password",placeholder:"Password"})),s.a.createElement("div",{className:"form-group"},s.a.createElement("input",{className:"btn btn-primary form-control",type:"submit",value:"Sign up"}))))}}]),a}(n.Component),h=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).state={address:"",city:"",state:"",zip:"",description:"",yearBuilt:"",loanPurpose:"",ssn:"",baseURL:"https://mortgageappsk.herokuapp.com"},e.handleChange=function(t){e.setState(Object(p.a)({},t.currentTarget.id,t.currentTarget.value))},e.updateUser=function(t){t.preventDefault();var a=JSON.parse(localStorage.getItem("loginInfo"));fetch(e.state.baseURL+"/mortgage",{method:"PUT",body:JSON.stringify({address:e.state.address,city:e.state.city,state:e.state.state,zip:e.state.zip,description:e.state.description,yearBuilt:e.state.yearBuilt,loanPurpose:e.state.loanPurpose,ssn:e.state.ssn,id:a.id}),headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(t){console.log(t),e.setState({signUp:!1,address:t.address,city:t.city,state:t.state,zip:t.zip,description:t.description,yearBuilt:t.yearBuilt,loanPurpose:t.loanPurpose,ssn:t.ssn}),localStorage.setItem("loginInfo",JSON.stringify({address:t.address,city:t.city,state:t.state,zip:t.zip,description:t.description,yearBuilt:t.yearBuilt,loanPurpose:t.loanPurpose,ssn:t.ssn}))})).catch((function(e){return console.error({Error:e})}))},e.getUser=function(){fetch(e.state.baseURL+"/mortgage/"+e.props.loginUsername).then((function(e){return e.json()})).then((function(t){console.log(t),e.setState({address:t.address,city:t.city,state:t.state,zip:t.zip,description:t.description,yearBuilt:t.yearBuilt,loanPurpose:t.loanPurpose,ssn:t.ssn}),localStorage.setItem("loginInfo",JSON.stringify({loginUsername:e.props.loginUsername,id:t.id,address:t.address,city:t.city,state:t.state,zip:t.zip,description:t.description,yearBuilt:t.yearBuilt,loanPurpose:t.loanPurpose,ssn:t.ssn}))})).catch((function(e){return console.error({Error:e})}))},e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){this.getUser();var e=JSON.parse(localStorage.getItem("loginInfo"));this.setState({address:e.address,city:e.city,state:e.state,zip:e.zip,description:e.description,yearBuilt:e.yearBuilt,loanPurpose:e.loanPurpose,ssn:e.ssn})}},{key:"render",value:function(){return s.a.createElement("div",null,s.a.createElement("form",{className:"form justify-content-center",style:{width:"50%",margin:"50px"},onSubmit:this.updateUser},s.a.createElement("div",{className:"form-group"},s.a.createElement("input",{className:"form-control",type:"text",onChange:this.handleChange,value:this.state.address,placeholder:"Property Address",id:"address",name:"address"})),s.a.createElement("div",{className:"form-group"},s.a.createElement("input",{className:"form-control",type:"text",onChange:this.handleChange,value:this.state.city,placeholder:"City",id:"city",name:"city"})),s.a.createElement("div",{className:"form-group"},s.a.createElement("input",{className:"form-control",type:"text",onChange:this.handleChange,value:this.state.state,id:"state",name:"state",placeholder:"State"})),s.a.createElement("div",{className:"form-group"},s.a.createElement("input",{className:"form-control",type:"number",onChange:this.handleChange,value:this.state.zip,id:"zip",name:"zip",placeholder:"Zip"})),s.a.createElement("div",{className:"form-group"},s.a.createElement("input",{className:"form-control",type:"text",onChange:this.handleChange,value:this.state.description,id:"description",name:"description",placeholder:"Property Description"})),s.a.createElement("div",{className:"form-group"},s.a.createElement("input",{className:"form-control",type:"number",onChange:this.handleChange,value:this.state.yearBuilt,id:"yearBuilt",name:"yearBuilt",placeholder:"Year Built"})),s.a.createElement("div",{className:"form-group"},s.a.createElement("input",{className:"form-control",type:"text",onChange:this.handleChange,value:this.state.loanPurpose,id:"loanPurpose",name:"loanPurpose",placeholder:"Purpose of Loan"})),s.a.createElement("div",{className:"form-group"},s.a.createElement("input",{className:"form-control",type:"password",onChange:this.handleChange,value:this.state.ssn,id:"ssn",name:"ssn",placeholder:"Borrower's SSN"})),s.a.createElement("div",{className:"form-group"},s.a.createElement("input",{className:"btn btn-success form-control",style:{width:"70%"},type:"submit",value:"Update"}))))}}]),a}(n.Component),f=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).state={loginUsername:"",loginPassword:"",baseURL:"https://mortgageappsk.herokuapp.com",isLogin:!1,loginInfo:{}},e.handleChange=function(t){e.setState(Object(p.a)({},t.currentTarget.id,t.currentTarget.value))},e.login=function(t){t.preventDefault(),fetch(e.state.baseURL+"/mortgage/login",{method:"POST",body:JSON.stringify({username:e.state.loginUsername,password:e.state.loginPassword}),headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(t){console.log(t),e.setState({loginUsername:t.username,loginPassword:"",token:t.token,userid:t.id,isLogin:!0}),localStorage.setItem("loginInfo",JSON.stringify({id:t.id,loginPassword:t.password,loginUsername:t.username,token:t.token,address:t.address,city:t.city,state:t.state,zip:t.zip,description:t.description,yearBuilt:t.yearBuilt,loanPurpose:t.loanPurpose,ssn:t.ssn}))})).catch((function(e){return console.error({Error:e})}))},e.logout=function(t){t.preventDefault(),e.setState({loginUsername:"",loginPassword:"",isLogin:!1,token:""}),localStorage.clear()},e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=JSON.parse(localStorage.getItem("loginInfo"));console.log(e),e&&e.token&&this.setState({token:e.token,userid:e.id,loginUsername:e.loginUsername,login:!0,loginInfo:e})}},{key:"render",value:function(){return s.a.createElement("div",null,this.state.isLogin?s.a.createElement("div",null," ",s.a.createElement("button",{className:"btn btn-danger form-control",style:{marginLeft:"100px",width:"100px"},onClick:this.logout},"Logout"),s.a.createElement(h,{loginUsername:this.state.loginUsername})," "):s.a.createElement("ul",{className:"nav justify-content-center"},s.a.createElement("li",{className:"nav-item"},s.a.createElement("input",{className:"form-control",type:"text",onChange:this.handleChange,value:this.state.loginUsername,id:"loginUsername",name:"loginUsername",placeholder:"email (Username)"})),s.a.createElement("li",{className:"nav-item"},s.a.createElement("input",{className:"form-control",type:"password",onChange:this.handleChange,value:this.state.loginPassword,id:"loginPassword",name:"loginPassword",placeholder:"Password"})),s.a.createElement("li",{className:"nav-item"},s.a.createElement("button",{className:"btn btn-dark form-control",style:{marginLeft:"6px"},onClick:this.login},"Login"))))}}]),a}(n.Component),y=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).state={isSignUp:!1},n.signUp=n.signUp.bind(Object(c.a)(n)),n}return Object(l.a)(a,[{key:"signUp",value:function(){console.log("Here"),this.setState({isSignUp:!this.state.isSignUp}),console.log(this.state.isSignUp)}},{key:"componentDidMount",value:function(){var e=JSON.parse(localStorage.getItem("loginInfo"));console.log(e)}},{key:"render",value:function(){return s.a.createElement("div",{className:"main"},s.a.createElement("div",{className:"jumbotron"}," Mortgage Application",s.a.createElement("h6",null,"Sign up now to get your mortgage approved!")),this.state.isSignUp?s.a.createElement("div",{className:"login"},s.a.createElement(f,null)):s.a.createElement("div",{className:"signUp"},s.a.createElement(g,null),s.a.createElement("div",{style:{marginTop:"0px"}},"Already have an account? ",s.a.createElement("b",null,"Login",s.a.createElement("button",{className:"loginButton",onClick:this.signUp}," here ")))),s.a.createElement("div",{className:"carousel"},"**********Carousel Planned************"))}}]),a}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(s.a.createElement(s.a.StrictMode,null,s.a.createElement(y,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},9:function(e,t,a){e.exports=a(15)}},[[9,1,2]]]);
//# sourceMappingURL=main.64350972.chunk.js.map